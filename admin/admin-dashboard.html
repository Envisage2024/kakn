<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - KAKN Sites</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="../images/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body class="admin-body">
    <!-- Google Translate Widget -->
    <div id="google_translate_element"></div>

    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar" id="adminSidebar">
            <div class="sidebar-header">
                <i class="fas fa-user-shield"></i>
                <h2>Admin Panel</h2>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#dashboard" class="sidebar-link active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#assignments" class="sidebar-link" data-section="assignments">
                    <i class="fas fa-tasks"></i>
                    <span>Assignments</span>
                </a>
                <a href="#messages" class="sidebar-link" data-section="messages">
                    <i class="fas fa-comments"></i>
                    <span>Messages</span>
                </a>
                <a href="#certifications" class="sidebar-link" data-section="certifications">
                    <i class="fas fa-certificate"></i>
                    <span>Certifications</span>
                </a>
                <a href="#notes" class="sidebar-link" data-section="notes">
                    <i class="fas fa-book"></i>
                    <span>Course Notes</span>
                </a>
                <a href="#users" class="sidebar-link" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>Users</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <a href="#" id="adminLogout">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-content">
            <!-- Mobile Header -->
            <div class="admin-header">
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1>Admin Dashboard</h1>
                <div class="admin-user">
                    <i class="fas fa-user-circle"></i>
                    <span id="adminName">Admin</span>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="section-dashboard" class="admin-section active">
                <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalUsers">0</h3>
                            <p>Total Students</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalAssignments">0</h3>
                            <p>Active Assignments</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon orange">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="unreadMessages">0</h3>
                            <p>New Messages</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalCertified">0</h3>
                            <p>Certified Students</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="dashboard-card">
                        <h3><i class="fas fa-chart-line"></i> Recent Activity</h3>
                        <div id="recentActivity">
                            <p class="no-data">No recent activity</p>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <h3><i class="fas fa-user-graduate"></i> Recent Enrollments</h3>
                        <div id="recentEnrollments">
                            <p class="no-data">No recent enrollments</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Assignments Section -->
            <section id="section-assignments" class="admin-section">
                <h2><i class="fas fa-tasks"></i> Assignment Management</h2>
                
                <button class="btn btn-primary" id="addAssignmentBtn">
                    <i class="fas fa-plus"></i> Add New Assignment
                </button>

                <!-- Add Assignment Form -->
                <div id="assignmentForm" class="form-card" style="display: none;">
                    <h3>Create Assignment</h3>
                    <form id="createAssignmentForm">
                        <div class="form-group">
                            <label>Assignment Title</label>
                            <input type="text" id="assignmentTitle" required>
                        </div>

                        <div class="form-group">
                            <label>Module</label>
                            <select id="assignmentModule" required>
                                <option value="1">Module 1: Computer Basics</option>
                                <option value="2">Module 2: Word Processing</option>
                                <option value="3">Module 3: Spreadsheets</option>
                                <option value="4">Module 4: PowerPoint</option>
                                <option value="5">Module 5: Email & Communication</option>
                                <option value="6">Module 6: Digital Classroom Tools</option>
                                <option value="7">Module 7: ICT Safety</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Instructions</label>
                            <textarea id="assignmentInstructions" rows="3" required></textarea>
                        </div>

                        <div id="questionsContainer">
                            <h4>Questions</h4>
                            <div class="question-item">
                                <input type="text" placeholder="Question 1" class="question-input" required>
                                <textarea placeholder="Model Answer (optional)" class="answer-input" rows="2"></textarea>
                            </div>
                        </div>

                        <button type="button" class="btn btn-secondary" id="addQuestionBtn">
                            <i class="fas fa-plus"></i> Add Question
                        </button>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Create Assignment
                            </button>
                            <button type="button" class="btn btn-secondary" id="cancelAssignment">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Assignments List -->
                <div id="assignmentsList" class="assignments-list">
                    <p class="no-data">No assignments yet. Click "Add New Assignment" to create one.</p>
                </div>
            </section>

            <!-- Messages Section -->
            <section id="section-messages" class="admin-section">
                <h2><i class="fas fa-comments"></i> Student Messages</h2>
                
                <div class="messages-container">
                    <div class="messages-list">
                        <h3>Conversations</h3>
                        <div id="conversationsList">
                            <p class="no-data">No messages yet</p>
                        </div>
                    </div>

                    <div class="message-thread">
                        <div id="messageThreadHeader" class="message-header">
                            <p>Select a conversation to view messages</p>
                        </div>
                        <div id="messageThreadContent" class="message-content">
                        </div>
                        <div id="messageReplyForm" class="message-reply" style="display: none;">
                            <textarea id="replyMessage" placeholder="Type your reply..."></textarea>
                            <button class="btn btn-primary" id="sendReplyBtn">
                                <i class="fas fa-paper-plane"></i> Send
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Certifications Section -->
            <section id="section-certifications" class="admin-section">
                <h2><i class="fas fa-certificate"></i> Certification Management</h2>
                
                <div class="certifications-grid">
                    <div class="cert-card">
                        <h3>Eligible Students</h3>
                        <div id="eligibleStudents">
                            <p class="no-data">No eligible students yet</p>
                        </div>
                    </div>

                    <div class="cert-card">
                        <h3>Certified Students</h3>
                        <div id="certifiedStudents">
                            <p class="no-data">No certified students yet</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Notes Section -->
            <section id="section-notes" class="admin-section">
                <h2><i class="fas fa-book"></i> Course Notes Management</h2>
                
                <button class="btn btn-primary" id="addNoteBtn">
                    <i class="fas fa-plus"></i> Upload New Note
                </button>

                <!-- Add Note Form -->
                <div id="noteForm" class="form-card" style="display: none;">
                    <h3>Upload Course Note</h3>
                    <form id="uploadNoteForm">
                        <div class="form-group">
                            <label>Note Title</label>
                            <input type="text" id="noteTitle" required>
                        </div>

                        <div class="form-group">
                            <label>Module</label>
                            <select id="noteModule" required>
                                <option value="1">Module 1: Computer Basics</option>
                                <option value="2">Module 2: Word Processing</option>
                                <option value="3">Module 3: Spreadsheets</option>
                                <option value="4">Module 4: PowerPoint</option>
                                <option value="5">Module 5: Email & Communication</option>
                                <option value="6">Module 6: Digital Classroom Tools</option>
                                <option value="7">Module 7: ICT Safety</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Content</label>
                            <textarea id="noteContent" rows="6" required placeholder="Enter the note content or paste text here..."></textarea>
                        </div>

                        <div class="form-group">
                            <label>File Upload (optional)</label>
                            <input type="file" id="noteFile" accept=".pdf,.doc,.docx,.txt">
                            <small>For demonstration: File name will be saved, not the actual file</small>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-upload"></i> Upload Note
                            </button>
                            <button type="button" class="btn btn-secondary" id="cancelNote">
                                Cancel
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Notes List -->
                <div id="notesList" class="notes-grid">
                    <p class="no-data">No notes uploaded yet. Click "Upload New Note" to add one.</p>
                </div>
            </section>

            <!-- Users Section -->
            <section id="section-users" class="admin-section">
                <h2><i class="fas fa-users"></i> User Management</h2>
                
                <div id="usersList" class="users-table">
                    <p class="no-data">No users registered yet</p>
                </div>
            </section>
        </main>
    </div>

    <script src="../js/auth.js"></script>
    <script src="../js/admin.js"></script>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'es,fr,de,it,pt,ru,zh-CN,ja,ko,ar,hi,sw',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
